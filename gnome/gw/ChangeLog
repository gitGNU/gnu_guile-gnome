2004-07-01  Andreas Rottmann  <a.rottmann@gmx.at>

	* gdk-spec.scm (unwrap-value-cg): Adapted for unwrap-null-check ->
	unwrap-null-checked change.

2004-06-22  Andreas Rottmann  <a.rottmann@gmx.at>

	* gtk-spec.scm, gdk-spec.scm: Fix for G-Wrap #:dependencies API
	change.

2004-05-17  Andreas Rottmann  <a.rottmann@gmx.at>

	* gtk-support.h, gtk-support.c (_wrap_gtk_dialog_get_vbox)
	(_wrap_gtk_dialog_get_action_area): New functions.

	* Makefile.am (guilegtkmodule_DATA): Fixed, now is
	guilegwmodule_DATA.

2004-05-10  Andy Wingo  <wingo@pobox.com>

	* Makefile.am (libguile_gnome_gw_*_la_LIBADD): Link all these to
	the real gobject module, not the -gw- module.

2004-04-18  Andy Wingo  <wingo@pobox.com>

	* graphical-repl.scm (install-history-handlers): Fix the
	long-standing bug in history-up and history-down. Load and save
	history files like ice-9/readline.scm does. Position the cursor at
	the end of the new text. Yay.
	(initialize for the entry): Lots of simplifications. Don't know
	why it was so complicated before.

	* Makefile.am (libguile_gnome_gw_gtk_la_CFLAGS): Temporarily
	remove -DGTK_DISABLE_DEPRECATED until the trunk is synced to
	Gtk+-2.4.

	* guile-gtk-tree-model.c (guile-gtk-generic-tree-model-get-flags):
	Allow the implementation to return #f for on-get-flags.

2004-04-03  Andreas Rottmann  <a.rottmann@gmx.at>

	* Makefile.am (libguile_gnome_gw_gtk_la_CFLAGS): Added -O0, to
	keep gcc from eating loads of memory.
	
	* Makefile.am (libguile_gnome_gw_gtk_la_CFLAGS): Removed
	-DGTK_DISABLE_DEPRECATED.

2004-01-14  Andy Wingo  <wingo@pobox.com>

	* gtk-support.c (_wrap_gtk_tree_model_iter_children): Return a
	list of all children instead of the first sibling. Makes it
	slower, but integrates better with higher-level procedures like
	map and for-each.
	(_wrap_gtk_tree_model_iter_parent): New wrapper.

	* glade-support.c (handle_read_error): New function.
	(connect_many): Use scm_internal_catch with handle_read_error
	around scm_c_read_string.

2004-01-13  Andy Wingo  <wingo@pobox.com>

	* generics.scm: Removed. All functions added directly to gtk.scm.

2003-12-13  Andreas Rottmann  <a.rottmann@gmx.at>

	* Makefile.am (GDKMODULES): Added gdk-event.scm.

2003-12-03  Andy Wingo  <wingo@pobox.com>

	* gdk-support.c (gdk_event_to_event_struct): Wrap button and
	crossing events.

2003-11-25  Andy Wingo  <wingo@pobox.com>

	* gtk-support.[ch]: Added accessors for the ok and cancel buttons
	in file selections. Note that this API will be deprecated in
	Gtk+-2.4.

2003-11-18  Andy Wingo  <wingo@pobox.com>

	* guile-gtk-tree-model.c (guile_gtk_generic_tree_model_get_value):
	Call scm_c_scm_to_gvalue instead of rolling our own conversion --
	allows gboxed-scm tree columns.

2003-11-25  Andreas Rottmann  <a.rottmann@gmx.at>

	* generics.scm (<guile-gtk-tree-model>): defined public as
	<guile-gtk-generic-tree-model>.

	* gw-gtk-spec.scm (GtkTreePath), 
	* gw-atk-spec.scm, gw-gdk-spec.scm, gw-pango-spec.scm, 
	* gw-gtk-spec.scm, gw-glade-spec.scm: Use
	gw-standard instead of guile-gnome-gw-standard.

	* Makefile.am (GTKMODULES): Added graphical-repl.scm.
	(guilegtkmodule_DATA): Added generics.scm.

	* Makefile.am (GUILE_FLAGS): New variable, to be overriden via
	make commandline.

2003-11-02  Andy Wingo  <wingo@pobox.com>

	* generics.scm (gtk-text-buffer-get-bounds): Remove, implemented
	in C now.

2003-10-29  Andy Wingo  <wingo@pobox.com>

	* generics.scm (initialize): Override initialize for
	<gtk-message-dialog>, because the API is broken (the constructor
	takes varargs, and there's no property for the message text).

	* glade-support.c (guile_glade_custom_handler): Don't expect a
	procedure from the widget handler, only a widget. So if you want
	to call a procedure, put it in parentheses.

2003-10-26  Andy Wingo  <wingo@pobox.com>

	* gw-glade-spec.scm: Set the custom handler on library init.

	* glade-support.c (connect_many): Use scm_c_eval_str instead of
	scm_c_lookup; this allows lambda expressions, etc.
	(guile_glade_custom_handler): New function, handles glade's custom
	widget facility.

	* gw-gdk-spec.scm: Fix GdkEvent wrappers to properly type the
	pointers.

2003-10-16  Andy Wingo  <wingo@pobox.com>

	* generics.scm (gtk-text-buffer-create-tag): New function.
	(create-tag): New generic function.
	(gtk-text-buffer-get-bounds): New function.
	(get-bounds): New generic function.

	* gtk-support.[ch]: New wrapper functions for GtkTextBuffer
	operations, as well as GtkTreeSelection::get_selected.

	* gw-gtk-spec.scm: Add a custom type wrapper for GtkTreePath.
	Ideally these should also be available to gvalue->scm, but that's
	not the case now.

2003-10-12  Andy Wingo  <wingo@pobox.com>

	* generics.scm: New generic functions to support the Guile tree
	model. 
	(gtk-tree-or-list-store-set): Wrap the one-value
	gtk-{list|tree}-store-set-value with a multi-arg equivalent.
	(set): Wrap the preceding function as a method for generic set.
	* gtk-support.[ch]: New files.
	* guile-gtk-tree-model.[ch]: New files, implement a tree model
	interface for guile.
	
2003-10-01  Andy Wingo  <wingo@pobox.com>

	* glade-support.[ch]: New files. Contains custom wrappers for
	glade_xml_new_from_buffer, glade_xml_signal_connect, and
	glade_xml_signal_autoconnect.
	* Makefile.am: Support the glade build.
	* generics.scm: Remove functions->methods-public.
	* gw-glade-spec.scm: New file.

2003-08-26  Andreas Rottmann  <a.rottmann@gmx.at>

	* Makefile.am (GTKMODULES): Don't add generics.scm, as it's no
	longer needed.

2003-05-08  Andy Wingo  <wingo@pobox.com>

	* event-repl.scm: New file, from gnome-guile 0.10.0.

	* gw-gdk-spec.scm: initialize gdk even when gtk isn't loaded.

2003-05-03  Andy Wingo  <wingo@pobox.com>

	* *: Completely rewritten, see the release notes (0.5.0) for details.

2002-11-08  Ariel Rios  <ariel@gnu.org>

	* converter.pl: Added. Creates gtk.scm file from the def file. At the moment
	we only handle objects.

	* guile-gnome-gtk-aux.h: Added

	* guile-gnome-gtk.c: We now call the function generated from the aux file.

	* gtk.defs: Added

2002-11-08  Ariel Rios <ariel@gnu.org>

	* guile-gnome-gtk.c (scm_init_gnome_gtk): Added more types so we can use them
	in the sane Scheme world.

	* gtk.scm (gtktype:*): Added more gtktypes.
	(<gtk-*>): Ditto for classes
	(show-signals): Display signals. Helps with debug
	(initialize): Gone

2002-08-08  Ariel Rios  <ariel@gnu.org>
	
	* guile-gnome-gtk.c (scm_init_gnome_gtk): get class ref for GTK_TYPE_WIDGET.
	

2001-09-06  Martin Baulig  <baulig@suse.de>

	* gnome-gtk.gwp (%gtk-object-ref, %gtk-object-sink):
	New private functions.

	* gtk.scm (initialize (<gtk-object>)):
	Do a `(%gtk-object-ref obj) (%gtk-object-sink obj)'.

