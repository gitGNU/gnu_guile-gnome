
@c %start of fragment

@node GstPadTemplate
@chapter GstPadTemplate
Describe the media type of a pad.

@section Overview
Padtemplates describe the possible media types a pad or an elementfactory can
handle. This allows for both inspection of handled types before loading the
element plugin as well as identifying pads on elements that are not yet created
(request or sometimes pads).

Pad and PadTemplates have @code{<gst-caps>} attached to it to describe the media
type they are capable of dealing with. @code{gst-pad-template-get-caps} or
@code{gst-pad-template-caps} are used to get the caps of a padtemplate. It's not
possible to modify the caps of a padtemplate after creation.

PadTemplates have a @code{<gst-pad-presence>} property which identifies the
lifetime of the pad and that can be retrieved with
@code{gst-pad-template-presence}. Also the direction of the pad can be retrieved
from the @code{<gst-pad-template>} with @code{gst-pad-template-direction}.

The @code{gst-pad-template-name-template} is important for GST_PAD_REQUEST pads
because it has to be used as the name in the
@code{gst-element-request-pad-by-name} call to instantiate a pad from this
template.

Padtemplates can be created with @code{gst-pad-template-new} or with
@code{gst-static-pad-template-get}, which creates a @code{<gst-pad-template>}
from a @code{<gst-static-pad-template>} that can be filled with the convenient
@code{gst-static-pad-template} macro.

A padtemplate can be used to create a pad (see @code{gst-pad-new-from-template}
or @code{gst-pad-new-from-static-template}) or to add to an element class (see
@code{gst-element-class-add-pad-template}).

The following code example shows the code to create a pad from a padtemplate.

@c (title "Create a pad from a padtemplate")
@example 

  GstStaticPadTemplate my_template =
  GST_STATIC_PAD_TEMPLATE (
    "sink",          // the name of the pad
    GST_PAD_SINK,    // the direction of the pad
    GST_PAD_ALWAYS,  // when this pad will be present
    GST_STATIC_CAPS (        // the capabilities of the padtemplate
      "audio/x-raw-int, "
        "channels = (int) [ 1, 6 ]"
    )
  )
  void
  my_method (void)
  @{
    GstPad *pad;
    pad = gst_pad_new_from_static_template (&my_template, "sink");
    ...
  @}
  
@end example

The following example shows you how to add the padtemplate to an element class,
this is usually done in the base_init of the class:

@example 

  static void
  my_element_base_init (gpointer g_class)
  @{
    GstElementClass *gstelement_class = GST_ELEMENT_CLASS (g_class);
   
    gst_element_class_add_pad_template (gstelement_class,
        gst_static_pad_template_get (&my_template));
  @}
  
@end example

Last reviewed on 2006-02-14 (0.10.3)

@section Usage
@include defuns-gstpadtemplate.xml.texi

@c %end of fragment
